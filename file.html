<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>file.io ile Çoklu Dosya Paylaş</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2em; background: #f9f9f9; }
    input[type="file"] { margin-bottom: 1em; }
    .file-link { margin-bottom: 1em; background: #fff; padding: 1em; border: 1px solid #ddd; border-radius: 6px; }
    button.copy { margin-left: 10px; }
  </style>
</head>
<body>

  <h2>Dosya Yükle ve Paylaş (file.io)</h2>
  
  <input type="file" id="fileInput" multiple><br>
  <button onclick="uploadFiles()">Yükle</button>

  <div id="linkContainer"></div>

  <script>
    async function uploadFiles() {
      const files = document.getElementById('fileInput').files;
      const linkContainer = document.getElementById('linkContainer');
      linkContainer.innerHTML = '';

      if (files.length === 0) {
        alert('Lütfen en az bir dosya seçin.');
        return;
      }

      for (const file of files) {
        const formData = new FormData();
        formData.append("file", file);

        const fileBox = document.createElement('div');
        fileBox.className = 'file-link';
        fileBox.innerHTML = `<p><strong>${file.name}</strong> yükleniyor...</p>`;
        linkContainer.appendChild(fileBox);

        try {
          const response = await fetch("https://file.io", {
            method: "POST",
            body: formData
          });

          const result = await response.json();

          if (result.success) {
            const input = document.createElement('input');
            input.type = 'text';
            input.value = result.link;
            input.readOnly = true;
            input.style.width = '80%';

            const copyBtn = document.createElement('button');
            copyBtn.textContent = 'Kopyala';
            copyBtn.className = 'copy';
            copyBtn.onclick = () => {
              navigator.clipboard.writeText(result.link);
              copyBtn.textContent = 'Kopyalandı!';
              setTimeout(() => copyBtn.textContent = 'Kopyala', 1500);
            };

            fileBox.innerHTML = `
              <p><strong>${file.name}</strong></p>
            `;
            fileBox.appendChild(input);
            fileBox.appendChild(copyBtn);
            fileBox.innerHTML += `<p><small>Bu bağlantı tek kullanımlıktır. Açıldıktan sonra silinir.</small></p>`;
          } else {
            fileBox.innerHTML = `<p><strong>${file.name}</strong> yüklenemedi: ${result.message}</p>`;
          }

        } catch (error) {
          fileBox.innerHTML = `<p><strong>${file.name}</strong> yükleme hatası: ${error.message}</p>`;
        }
      }
    }
  </script>

</body>
</html>