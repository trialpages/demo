<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Şık Dosya Paylaşım (Temp.sh)</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      display: flex; align-items: center; justify-content: center;
      height: 100vh; margin: 0; background: linear-gradient(135deg,#ece9e6,#ffffff);
    }
    .container {
      background: white; padding: 2rem; border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1); width: 90%; max-width: 500px;
      text-align: center;
    }
    h2 { margin-bottom: 1rem; color: #333; }
    input[type="file"] { display: block; margin: 1rem auto; }
    button {
      padding: 12px 24px; border: none; border-radius: 50px;
      background: #007bff; color: white; font-size: 1rem;
      cursor: pointer; transition: background 0.3s;
    }
    button:hover { background: #0056b3; }
    .file-link {
      margin-top: 1.5rem; padding: 1rem; background: #f8f9fa;
      border-radius: 15px; display: flex; align-items: center;
      justify-content: space-between;
    }
    .file-link input {
      flex-grow: 1; padding: 5px; margin-right: 10px;
      border: 1px solid #ccc; border-radius: 8px;
    }
    .copy {
      background: #28a745; border-radius: 50px;
    }
    .copy:hover { background: #1e7e34; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Dosya Yükle & Paylaş</h2>
    <input type="file" id="fileInput" multiple>
    <button onclick="uploadFiles()">Yükle</button>
    <div id="linkContainer"></div>
  </div>

  <script>
    async function uploadFiles() {
      const files = document.getElementById('fileInput').files;
      const linkContainer = document.getElementById('linkContainer');
      linkContainer.innerHTML = '';

      if (files.length === 0) {
        alert('Lütfen en az bir dosya seçin.');
        return;
      }

      for (const file of files) {
        const fileBox = document.createElement('div');
        fileBox.className = 'file-link';
        fileBox.innerHTML = `<span><strong>${file.name}</strong> yükleniyor...</span>`;
        linkContainer.appendChild(fileBox);

        const formData = new FormData();
        formData.append('file', file);

        try {
          const res = await fetch('https://temp.sh/upload', {
            method: 'POST',
            body: formData
          });
          if (!res.ok) throw new Error(`Sunucu: ${res.status}`);
          const text = await res.text();
          const link = text.trim();

          fileBox.innerHTML = '';
          const input = document.createElement('input');
          input.type = 'text'; input.value = link; input.readOnly = true;
          const copyBtn = document.createElement('button');
          copyBtn.textContent = 'Kopyala';
          copyBtn.className = 'copy';
          copyBtn.onclick = () => {
            navigator.clipboard.writeText(link);
            copyBtn.textContent = 'Kopyalandı!';
            setTimeout(() => copyBtn.textContent = 'Kopyala', 1500);
          };

          fileBox.appendChild(input);
          fileBox.appendChild(copyBtn);

        } catch (err) {
          fileBox.innerHTML = `<span style="color:red"><strong>${file.name}</strong> hatası: ${err.message}</span>`;
        }
      }
    }
  </script>
</body>
</html>