<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>İlahiyat Doçentlik Puan Hesaplama</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; }
        .section { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 8px; }
        select, input { padding: 5px; margin: 5px; width: 200px; }
        button { background: #4CAF50; color: white; padding: 10px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #45a049; }
        #selectedItems { margin: 20px 0; }
        .item { background: white; padding: 10px; margin: 5px 0; border-radius: 4px; }
        #result { padding: 15px; margin-top: 20px; border-radius: 8px; }
        .success { background: #dff0d8; color: #3c763d; }
        .error { background: #f2dede; color: #a94442; }
    </style>
</head>
<body>
    <h2>İlahiyat Doçentlik Puan Hesaplama Aracı</h2>
    
    <div class="section">
        <select id="mainCategory">
            <option value="">Ana Kategori Seçiniz</option>
            <option value="1">1. Uluslararası Makale</option>
            <option value="2">2. Ulusal Makale</option>
            <!-- Diğer kategoriler eklenebilir -->
        </select>

        <select id="subCategory" disabled>
            <option value="">Alt Kategori Seçiniz</option>
        </select>

        <input type="number" id="workCount" placeholder="Çalışma Sayısı" min="1">
        <input type="number" id="authorCount" placeholder="Yazar Sayısı" min="1">
        <button onclick="addToCart()">Sepete Ekle</button>
    </div>

    <div id="selectedItems"></div>
    <button onclick="calculate()">Hesapla</button>
    <div id="result"></div>

<script>
let items = [];
const categories = {
    '1': { // Uluslararası Makale
        '1a': {label: 'a) SCIE/SSCI Q1', points: 30},
        '1b': {label: 'b) AHCI', points: 20},
        // Diğer alt kategoriler eklenebilir
    },
    // Diğer ana kategoriler eklenebilir
};

document.getElementById('mainCategory').addEventListener('change', function() {
    const subCat = document.getElementById('subCategory');
    subCat.innerHTML = '<option value="">Alt Kategori Seçiniz</option>';
    
    if(this.value === '1') {
        Object.keys(categories['1']).forEach(key => {
            subCat.innerHTML += `<option value="${key}">${categories['1'][key].label}</option>`;
        });
        subCat.disabled = false;
    }
    // Diğer ana kategoriler için eklemeler yapılabilir
});

function addToCart() {
    const mainCat = document.getElementById('mainCategory').value;
    const subCat = document.getElementById('subCategory').value;
    const workCount = parseInt(document.getElementById('workCount').value);
    const authorCount = parseInt(document.getElementById('authorCount').value);

    if(!mainCat || !subCat || !workCount || !authorCount) return alert('Lütfen tüm alanları doldurun!');

    const pointsPerWork = categories[mainCat][subCat].points / authorCount;
    const totalPoints = pointsPerWork * workCount;

    items.push({
        category: `${mainCat}${subCat}`,
        workCount,
        authorCount,
        totalPoints
    });

    updateCartDisplay();
}

function updateCartDisplay() {
    const container = document.getElementById('selectedItems');
    container.innerHTML = items.map((item, index) => `
        <div class="item">
            ${categories[item.category[0]][item.category].label} - 
            Çalışma: ${item.workCount}, Yazar: ${item.authorCount}, Puan: ${item.totalPoints.toFixed(1)}
        </div>
    `).join('');
}

function calculate() {
    let total = items.reduce((sum, item) => sum + item.totalPoints, 0);
    let resultDiv = document.getElementById('result');
    
    // Zorunlu şartlar kontrolü
    if(total < 100) {
        resultDiv.className = 'error';
        resultDiv.innerHTML = `Şart sağlanamadı! Toplam puan 100'ün altında: ${total.toFixed(1)}`;
        return;
    }
    
    resultDiv.className = 'success';
    resultDiv.innerHTML = `Tebrikler! Toplam puanınız: ${total.toFixed(1)}`;
}
</script>

<!-- Not: Bu örnek sadece temel yapıyı göstermektedir. -->
<!-- Tüm kategoriler, puan kuralları ve validasyonlar eklenmelidir. -->
</body>
</html>