<!DOCTYPE html>
<html>
<body>

<h2>Oda 1 - Zar Testi</h2>

<button onclick="zarAt()">Zar At</button>

<p id="sonuc"></p>

<!-- MOD√úLER Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
  import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-database.js";

  // üî• Sƒ∞Zƒ∞N CONFIG
  const firebaseConfig = {
    apiKey: "AIzaSyAvSi7bBWMGJhceLJytqWqy2tjKbGdVv2I",
    authDomain: "back-gammon1.firebaseapp.com",
    projectId: "back-gammon1",
    storageBucket: "back-gammon1.firebasestorage.app",
    messagingSenderId: "388506855062",
    appId: "1:388506855062:web:05efcc04b2604f8c2b44b7",
    measurementId: "G-0PQRJXWJDV",
    databaseURL: "https://back-gammon1-default-rtdb.europe-west1.firebasedatabase.app"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Zar fonksiyonu
  function zarAt() {
    const z1 = Math.ceil(Math.random() * 6);
    const z2 = Math.ceil(Math.random() * 6);

    set(ref(db, "oyunlar/oda1/zar"), {
      birinci: z1,
      ikinci: z2
    });
  }

  // Deƒüi≈üiklikleri dinle
  onValue(ref(db, "oyunlar/oda1/zar"), (snapshot) => {
    if (snapshot.exists()) {
      const data = snapshot.val();
      document.getElementById("sonuc").innerHTML =
        "Gelen zar: " + data.birinci + " - " + data.ikinci;
    }
  });

  // Butonun g√∂rebilmesi i√ßin fonksiyonu window'a ekle
  window.zarAt = zarAt;
</script>

</body>
</html>