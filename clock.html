<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Siyah-Beyaz Saat • Kronometre • Geri Sayım</title>
  <style>
    :root{
      --bg:#000; /* tamamen siyah */
      --fg:#fff; /* tamamen beyaz */
      --muted:rgba(255,255,255,.6);
      --border:rgba(255,255,255,.25);
      --shadow:0 10px 30px rgba(0,0,0,.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      display:flex; flex-direction:column; align-items:center; justify-content:stretch;
    }header{
  width:100%; max-width:1100px; margin:0 auto; padding:12px clamp(12px,3vw,24px);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.brand{font-weight:700; letter-spacing:.5px; color:var(--muted)}

.tabs{display:flex; gap:8px; flex-wrap:wrap}
.tab{
  border:1px solid var(--border); padding:8px 12px; border-radius:999px; cursor:pointer;
  user-select:none; transition:background .2s ease; font-size:14px; color:var(--muted);
  background:transparent;
}
.tab[aria-selected="true"]{color:var(--fg); border-color:var(--fg)}

main{flex:1; width:100%; display:grid; place-items:center;}

.panel{width:min(1200px, 100%); padding: clamp(12px, 3vw, 32px);}

.display{
  width:100%; text-align:center;
  font-variant-numeric: tabular-nums; letter-spacing:.04em;
  line-height:1.05; margin: clamp(6px, 2vh, 16px) 0;
  /* Ekranı kaplar şekilde büyük puntolar: */
  font-size: clamp(32px, 14vw, 180px);
  text-shadow:0 2px 0 rgba(255,255,255,.06);
  word-break:break-word;
}

.sub{ color: var(--muted); font-size: clamp(12px, 2.6vw, 20px); margin-top:6px; }

.controls{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:18px; }
button, .btn{
  background:transparent; color:var(--fg); border:1px solid var(--fg);
  padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; letter-spacing:.3px;
  box-shadow:var(--shadow); transition: transform .06s ease, opacity .2s;
}
button:active{ transform:translateY(1px); }
button[aria-pressed="true"]{ outline:2px solid var(--fg); }

.row{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; align-items:center}
.muted{color:var(--muted)}

.input-time{
  display:flex; align-items:center; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:10px;
}
input[type="text"], input[type="number"]{
  background:#000; color:#fff; border:1px solid var(--border); border-radius:10px; padding:10px 12px;
  min-width:120px; font-size:16px; text-align:center; outline:none;
}
input[type="text"]::placeholder{color:var(--muted)}

.list{
  margin-top:18px; width:100%; max-height:28vh; overflow:auto; border:1px solid var(--border); border-radius:12px; padding:8px;
}
.list table{width:100%; border-collapse:collapse; font-size:14px}
.list th,.list td{ text-align:left; padding:8px; border-bottom:1px solid var(--border)}

footer{padding:10px; color:var(--muted); font-size:12px; text-align:center}

.kbd{ border:1px solid var(--border); padding:.1rem .4rem; border-radius:6px; font-size:.9em; }

.hidden{display:none !important}

/* Küçük ekranlar için butonları büyüt */
@media (max-width:600px){
  button{ padding:12px 16px; border-radius:14px; font-size:16px }
  .tab{ font-size:13px }
}

  </style>
</head>
<body>
  <header>
    <div class="brand">Siyah–Beyaz Zaman</div>
    <nav class="tabs" role="tablist" aria-label="Modlar">
      <button class="tab" role="tab" aria-selected="true" data-mode="clock">Saat</button>
      <button class="tab" role="tab" aria-selected="false" data-mode="stopwatch">Kronometre</button>
      <button class="tab" role="tab" aria-selected="false" data-mode="timer">Geri Sayım</button>
    </nav>
  </header>  <main>
    <section class="panel" id="clockPanel" role="tabpanel" aria-labelledby="Saat">
      <div class="display" id="clockDisplay">00:00:00</div>
      <div class="row">
        <button id="toggle24h" title="12/24 saat">24s</button>
        <button id="fullscreen1" title="Tam ekran"><span aria-hidden>⛶</span> Tam Ekran</button>
      </div>
      <div class="sub muted">Kısayollar: <span class="kbd">F</span> tam ekran • <span class="kbd">C</span> saat</div>
    </section><section class="panel hidden" id="stopwatchPanel" role="tabpanel" aria-labelledby="Kronometre">
  <div class="display" id="swDisplay">00:00.00</div>
  <div class="controls">
    <button id="swStart">Başlat</button>
    <button id="swLap" disabled>Tur</button>
    <button id="swReset" disabled>Sıfırla</button>
    <button id="fullscreen2" title="Tam ekran"><span aria-hidden>⛶</span> Tam Ekran</button>
  </div>
  <div class="sub muted">Kısayollar: <span class="kbd">Space</span> başlat/durdur • <span class="kbd">L</span> tur • <span class="kbd">R</span> sıfırla • <span class="kbd">S</span> kronometre</div>
  <div class="list" id="lapList" aria-live="polite" aria-label="Turlar Listesi" hidden>
    <table>
      <thead><tr><th>#</th><th>Süre</th><th>Toplam</th></tr></thead>
      <tbody id="lapTbody"></tbody>
    </table>
  </div>
</section>

<section class="panel hidden" id="timerPanel" role="tabpanel" aria-labelledby="Geri Sayım">
  <div class="display" id="tmDisplay">00:00</div>
  <div class="input-time">
    <label class="muted" for="tmInput">Süre (mm:ss):</label>
    <input id="tmInput" type="text" inputmode="numeric" placeholder="05:00" aria-label="Geri sayım süresi" />
    <div class="row">
      <button class="btn preset" data-min="1">1 dk</button>
      <button class="btn preset" data-min="3">3 dk</button>
      <button class="btn preset" data-min="5">5 dk</button>
      <button class="btn preset" data-min="10">10 dk</button>
    </div>
  </div>
  <div class="controls">
    <button id="tmStart">Başlat</button>
    <button id="tmPause" disabled>Duraklat</button>
    <button id="tmReset" disabled>Sıfırla</button>
    <button id="tmMute" aria-pressed="false" title="Ses Kapalı/Açık">Sesi Aç/Kapat</button>
    <button id="fullscreen3" title="Tam ekran"><span aria-hidden>⛶</span> Tam Ekran</button>
  </div>
  <div class="sub muted">Kısayollar: <span class="kbd">Enter</span> başlat/duraklat • <span class="kbd">R</span> sıfırla • <span class="kbd">F</span> tam ekran • <span class="kbd">T</span> geri sayım • <span class="kbd">+</span>/<span class="kbd">-</span> süreyi değiştir</div>
</section>

  </main>  <footer>
    Sade, siyah-beyaz ve büyük puntolu. <span class="muted">Ayarlar yerel olarak saklanır.</span>
  </footer><audio id="beep" preload="auto"></audio>

  <script>
  (function(){
    // Utils
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));
    const pad = (n, l=2) => String(Math.floor(Math.abs(n))).padStart(l,'0');

    const state = {
      mode: 'clock',
      is24h: JSON.parse(localStorage.getItem('is24h') ?? 'true'),
      timerMute: JSON.parse(localStorage.getItem('timerMute') ?? 'false'),
      timerLastSec: parseInt(localStorage.getItem('timerLastSec') || '300', 10),
    };

    // Tabs / Panels
    const panels = { clock: $('#clockPanel'), stopwatch: $('#stopwatchPanel'), timer: $('#timerPanel') };
    const display = { clock: $('#clockDisplay'), sw: $('#swDisplay'), tm: $('#tmDisplay') };

    function setMode(m){
      state.mode = m;
      $$('.tab').forEach(btn => btn.setAttribute('aria-selected', String(btn.dataset.mode===m)));
      Object.entries(panels).forEach(([k,el])=>{ el.classList.toggle('hidden', k!==m); });
      localStorage.setItem('mode', m);
      location.hash = m;
    }

    // Clock
    function fmtClock(d){
      let h=d.getHours(), m=d.getMinutes(), s=d.getSeconds();
      if(!state.is24h){ const ampm = h>=12? 'PM':'AM'; h = (h%12)||12; return `${pad(h)}:${pad(m)}:${pad(s)} ${ampm}`; }
      return `${pad(h)}:${pad(m)}:${pad(s)}`;
    }

    // Stopwatch
    const sw = { running:false, startT:0, elapsed:0, laps:[] };
    function fmtMs(ms){
      const sign = ms<0? '-' : '';
      ms = Math.abs(ms);
      const totalSec = Math.floor(ms/1000);
      const min = Math.floor(totalSec/60);
      const sec = totalSec%60;
      const cs = Math.floor((ms%1000)/10);
      return `${sign}${pad(min)}:${pad(sec)}.${pad(cs)}`;
    }

    function renderLaps(){
      const box = $('#lapList');
      const tbody = $('#lapTbody');
      tbody.innerHTML='';
      if(sw.laps.length===0){ box.hidden = true; return; }
      box.hidden = false;
      sw.laps.forEach((lap,i)=>{
        const tr = document.createElement('tr');
        const td1 = document.createElement('td'); td1.textContent = String(i+1);
        const td2 = document.createElement('td'); td2.textContent = fmtMs(lap.delta);
        const td3 = document.createElement('td'); td3.textContent = fmtMs(lap.total);
        tr.append(td1,td2,td3); tbody.append(tr);
      });
      box.scrollTop = box.scrollHeight;
    }

    // Timer
    const tm = { running:false, startT:0, remainMs: state.timerLastSec*1000 };
    function fmtTimer(ms){
      const totalSec = Math.max(0, Math.ceil(ms/1000));
      const min = Math.floor(totalSec/60);
      const sec = totalSec%60;
      return `${pad(min)}:${pad(sec)}`;
    }
    function parseTimeToMs(str){
      // accepts mm:ss or ss
      if(!str) return null;
      const t = String(str).trim();
      if(/^\d+$/.test(t)) return parseInt(t,10)*1000; // seconds
      const m = t.match(/^(\d{1,3}):(\d{1,2})$/);
      if(!m) return null;
      const mm = parseInt(m[1],10), ss = parseInt(m[2],10);
      if(ss>=60) return null;
      return (mm*60+ss)*1000;
    }

    // Beep setup (WebAudio, tek ses – siyah-beyaz tema ruhuna uygun)
    let audioCtx = null;
    function beep(){
      if(state.timerMute) return;
      try{
        if(!audioCtx) audioCtx = new (window.AudioContext||window.webkitAudioContext)();
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type='square'; o.frequency.setValueAtTime(880,audioCtx.currentTime);
        g.gain.setValueAtTime(0.001,audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.2,audioCtx.currentTime+0.01);
        g.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+0.4);
        o.connect(g).connect(audioCtx.destination);
        o.start(); o.stop(audioCtx.currentTime+0.42);
      }catch(e){ /* sessiz geç */ }
      if(navigator.vibrate) navigator.vibrate([80,40,80]);
    }

    // Fullscreen helper
    function toggleFullscreen(){
      if(!document.fullscreenElement){ document.documentElement.requestFullscreen?.(); }
      else{ document.exitFullscreen?.(); }
    }

    // Render Loop
    function tick(){
      const now = performance.now();
      // Clock
      if(state.mode==='clock'){
        display.clock.textContent = fmtClock(new Date());
      }
      // Stopwatch
      if(sw.running){
        const ms = sw.elapsed + (now - sw.startT);
        display.sw.textContent = fmtMs(ms);
      }
      // Timer
      if(tm.running){
        const left = tm.remainMs - (now - tm.startT);
        if(left <= 0){
          tm.running=false; tm.remainMs=0; display.tm.textContent = fmtTimer(0);
          beep();
          $('#tmStart').disabled=false; $('#tmPause').disabled=true; $('#tmReset').disabled=false;
        }else{
          display.tm.textContent = fmtTimer(left);
        }
      }
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);

    // Init from hash/localStorage
    const hashMode = location.hash.replace('#','');
    const savedMode = localStorage.getItem('mode');
    if(['clock','stopwatch','timer'].includes(hashMode)) setMode(hashMode);
    else if(['clock','stopwatch','timer'].includes(savedMode)) setMode(savedMode);
    else setMode('clock');

    // Clock controls
    $('#toggle24h').addEventListener('click',()=>{
      state.is24h=!state.is24h; localStorage.setItem('is24h', JSON.stringify(state.is24h));
    });

    // Tabs events
    $$('.tab').forEach(btn=>btn.addEventListener('click',()=> setMode(btn.dataset.mode)));

    // Stopwatch controls
    const swStart = $('#swStart');
    const swLap = $('#swLap');
    const swReset = $('#swReset');

    function swUpdateButtons(){
      swStart.textContent = sw.running? 'Durdur' : 'Başlat';
      swLap.disabled = !sw.running;
      swReset.disabled = sw.running && sw.elapsed===0 && sw.laps.length===0;
    }

    swStart.addEventListener('click', ()=>{
      if(!sw.running){ sw.running=true; sw.startT=performance.now(); }
      else{ sw.running=false; sw.elapsed += performance.now()-sw.startT; }
      swUpdateButtons();
    });

    swLap.addEventListener('click',()=>{
      if(!sw.running) return;
      const total = sw.elapsed + (performance.now()-sw.startT);
      const prevTotal = sw.laps.length? sw.laps[sw.laps.length-1].total : 0;
      sw.laps.push({delta: total - prevTotal, total});
      renderLaps();
    });

    swReset.addEventListener('click',()=>{
      sw.running=false; sw.startT=0; sw.elapsed=0; sw.laps=[];
      display.sw.textContent = '00:00.00';
      renderLaps(); swUpdateButtons();
    });

    swUpdateButtons();

    // Timer controls
    const tmInput = $('#tmInput');
    const tmStart = $('#tmStart');
    const tmPause = $('#tmPause');
    const tmReset = $('#tmReset');
    const tmMute = $('#tmMute');

    function tmSet(ms){ tm.remainMs = Math.max(0, ms|0); display.tm.textContent = fmtTimer(tm.remainMs); }

    // load last
    tmSet(state.timerLastSec*1000);
    tmInput.placeholder = fmtTimer(state.timerLastSec*1000);

    tmInput.addEventListener('change',()=>{
      const ms = parseTimeToMs(tmInput.value);
      if(ms!=null){ tmSet(ms); localStorage.setItem('timerLastSec', String(Math.round(ms/1000))); }
      else{ tmInput.value=''; }
    });

    $$('.preset').forEach(b=> b.addEventListener('click',()=>{
      const s = parseInt(b.dataset.min,10)*60*1000; tmSet(s);
      localStorage.setItem('timerLastSec', String(s/1000));
    }));

    tmStart.addEventListener('click',()=>{
      if(tm.running){ // zaten çalışıyorsa duraklat
        tmPause.click(); return;
      }
      if(tm.remainMs<=0){ const last = parseInt(localStorage.getItem('timerLastSec')||'300',10)*1000; tmSet(last); }
      tm.running=true; tm.startT=performance.now();
      tmStart.disabled=true; tmPause.disabled=false; tmReset.disabled=false;
    });

    tmPause.addEventListener('click',()=>{
      if(!tm.running) return;
      const now = performance.now(); tm.remainMs = Math.max(0, tm.remainMs - (now - tm.startT));
      tm.running=false; tmStart.disabled=false; tmPause.disabled=true;
    });

    tmReset.addEventListener('click',()=>{
      tm.running=false; tmStart.disabled=false; tmPause.disabled=true; tmReset.disabled=true;
      const last = parseInt(localStorage.getItem('timerLastSec')||'300',10)*1000; tmSet(last);
    });

    tmMute.setAttribute('aria-pressed', String(state.timerMute));
    tmMute.addEventListener('click',()=>{
      state.timerMute = !state.timerMute; localStorage.setItem('timerMute', JSON.stringify(state.timerMute));
      tmMute.setAttribute('aria-pressed', String(state.timerMute));
    });

    // Fullscreen buttons
    ['#fullscreen1','#fullscreen2','#fullscreen3'].forEach(sel=> $(sel).addEventListener('click', toggleFullscreen));

    // Keyboard Shortcuts
    document.addEventListener('keydown', (e)=>{
      const k = e.key.toLowerCase();
      if(k==='f'){ e.preventDefault(); toggleFullscreen(); }
      if(k==='c'){ setMode('clock'); }
      if(k==='s'){ setMode('stopwatch'); }
      if(k==='t'){ setMode('timer'); }

      if(state.mode==='stopwatch'){
        if(k===' '){ e.preventDefault(); swStart.click(); }
        if(k==='l'){ swLap.click(); }
        if(k==='r'){ swReset.click(); }
      }

      if(state.mode==='timer'){
        if(k==='enter'){ e.preventDefault(); tm.running? tmPause.click() : tmStart.click(); }
        if(k==='r'){ tmReset.click(); }
        if(k==='+'){ tmSet(tm.remainMs + 60_000); localStorage.setItem('timerLastSec', String(Math.round(tm.remainMs/1000))); }
        if(k==='-'){ tmSet(Math.max(0, tm.remainMs - 60_000)); localStorage.setItem('timerLastSec', String(Math.round(tm.remainMs/1000))); }
        if(/^[0-9]$/.test(k)){
          // tek tuşla dakika ekleme (1..9)
          const add = parseInt(k,10) * 60_000; tmSet(tm.remainMs + add);
          localStorage.setItem('timerLastSec', String(Math.round(tm.remainMs/1000)));
        }
      }
    });

    // Hash navigation by buttons too
    window.addEventListener('hashchange', ()=>{
      const m = location.hash.replace('#',''); if(['clock','stopwatch','timer'].includes(m)) setMode(m);
    });
  })();
  </script></body>
</html>